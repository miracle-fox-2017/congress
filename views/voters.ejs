<% include ./partials/head %>
    <title>Pencarian </title>
  </head>
  <body>
    <% include ./partials/menu %>
    <script>
        function show(){
            let option = document.getElementById("cari").value;
            if(option == "select")
                  {
                    document.getElementById("tampilName").style.display="none";
                    document.getElementById("tampilGender").style.display="none";
                    document.getElementById("tampilAge").style.display="none";
                  }
            if(option == "name")
                  {
                    document.getElementById("tampilName").style.display="block";
                    document.getElementById("tampilGender").style.display="none";
                    document.getElementById("tampilAge").style.display="none";
                  }
            if(option == "gender")
                  {
                    document.getElementById("tampilName").style.display="none";
                    document.getElementById("tampilGender").style.display="block";
                    document.getElementById("tampilAge").style.display="none";
                  }
            if(option == "age")
                  {
                    document.getElementById("tampilName").style.display="none";
                    document.getElementById("tampilGender").style.display="none";
                    document.getElementById("tampilAge").style.display="block";
                  }
        }
    </script>
            <form action="/voters" method="post">

              <br/>
                <table>
                    <tr>
                        <td>
                          <div class="control">
                          <div class="select">
                            <select id="cari" onchange="show()" required>
                                <option value="">----SELECT----</option>
                                <option value="name">Name</option>
                                <option value="gender">Gender</option>
                                <option value="age">Age</option>
                            </select>
                          </div></div>
                        </td>

                    </tr>
                    <br/>
                    <tr style="display:none;" id="tampilName">
                        <td><input class="input" name="name" type="text" placeholder="searchName" id="tampilName" style="display:block;"></td>
                    </tr>
                    <tr style="display:none;" id="tampilGender">
                        <td>
                          <div class="control">
                            <div class="select">
                          <select id="tampilGender" name="gender">
                                  <option value="">----SELECT----</option>
                                  <option value="female">Female</option>
                                  <option value="male">Male</option>
                          </select>
                        </div></div>
                        </td>
                    </tr>
                    <tr style="display:none;" id="tampilAge">
                        <td><input class="input" name="min" type="number" placeholder="Range Min Age" id="tampilAge" style="display:block;" size=20 maxlength=12 value=""></td>
                        <td><input class="input" name="max" type="number" placeholder="Range Max Age" id="tampilAge" style="display:block;" size=20 maxlength=12 value=""></td>
                    </tr>
                </table>
                <br>
            <input class="button is-light" type="submit" value="Search"><br/></br>
        </form>
        <table class="table is-striped is-hoverable is-fullwidth">
          <thead>
          <tr>
            <th class="is-black">Id</th>
            <th class="is-black">Name</th>
            <th class="is-black">Gender</th>
            <th class="is-black">Age</th>
            <th class="is-black">Married</th>
            <th class="is-black">Children Count</th>
          </tr>
          <thead>
          <tbody>
          <%hasilCari.forEach(ketemu=>{%>
            <tr>
              <td><%=ketemu.id%></td>
              <td><%=ketemu.first_name +' '+ketemu.last_name%></td>
              <td><%=ketemu.gender%></td>
              <td><%=ketemu.age%></td>
              <%if(ketemu.married === 1){%>
                <td>Married</td>
              <%} else {%>
                <td>Single</td>
              <%}%>
              <td><%=ketemu.children_count%></td>
            </tr>
          <%})%>
        </tbody>
        </table>
  </body>
</html>
