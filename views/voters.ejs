<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <form class="" action="/voters" method="post">
      <select id="opsi" name="opsi" onchange="pilih(this)">
        <option value="">----SELECT----</option>
        <option value="1">name</option>
        <option value="2">gender</option>
        <option value="3">age</option>
      </select>
      <div id="searchbyname" style="display: none">
        <input type="input" name="name" placeholder="name" >
      </div>

      <div id="searchbygender" style="display: none">
        <select name="gender">
          <option value="male">male</option>
          <option value="female">female</option>
        </select>
      </div>

      <div id="searchbyage" style="display: none">
        <input type="input" name="bawah" placeholder="batas bawah">
        <input type="input" name="atas" placeholder="batas atas">
      </div>

      <input type="submit" value="submit">
    </form>
    <table>
      <%if(data.length > 0){%>
      <tr>
        <td>id</td>
        <td>first_name</td>
        <td>last_name</td>
        <td>gender</td>
        <td>age</td>
        <td>marriage</td>
        <td>children count</td>
      </tr>
      <%} else {%>
        <p>ISI DULU</p>
      <%}%>
      <%for(var i = 0; i < data.length; i++){%>
        <tr>
          <td><%=data[i].id%></td>
          <td><%=data[i].first_name%></td>
          <td><%=data[i].last_name%></td>
          <td><%=data[i].gender%></td>
          <td><%=data[i].age%></td>
          <%if(data[i].married == 1){%>
          <td><%="menikah"%></td>
          <%} else {%>
          <td><%="lajang"%></td>
          <%}%>
          <td><%=data[i].children_count%></td>
        </tr>
      <%}%>
    </table>
    <script type="text/javascript">
      function pilih(param) {
        if(param.value == 1) {
          document.getElementById('searchbyname').style.display = "block"
          document.getElementById('searchbygender').style.display = "none"
          document.getElementById('searchbyage').style.display = "none"
        }
        else if(param.value == 2) {
          document.getElementById('searchbyname').style.display = "none"
          document.getElementById('searchbygender').style.display = "block"
          document.getElementById('searchbyage').style.display = "none"
        }
        else if(param.value == 3) {
          document.getElementById('searchbyname').style.display = "none"
          document.getElementById('searchbygender').style.display = "none"
          document.getElementById('searchbyage').style.display = "block"
        }
      }
    </script>
  </body>
</html>
