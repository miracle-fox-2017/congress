<!DOCTYPE html>
<html>
  <% include ./partial/head.ejs %>
  <body>
    <script type="text/javascript">
      function showDiv(input){
        if(input.value == 0){
          document.getElementById('name-hide').style.display = "none";
          document.getElementById('gender-hide').style.display = "none";
          document.getElementById('age-hide').style.display = "none";
        }
        if(input.value == 1){
          document.getElementById('name-hide').style.display = "block";
          document.getElementById('gender-hide').style.display = "none";
          document.getElementById('age-hide').style.display = "none";
        }
        if(input.value == 2){
          document.getElementById('gender-hide').style.display = "block";
          document.getElementById('name-hide').style.display = "none";
          document.getElementById('age-hide').style.display = "none";
        }
        if(input.value == 3){
          document.getElementById('age-hide').style.display = "block";
          document.getElementById('gender-hide').style.display = "none";
          document.getElementById('name-hide').style.display = "none";
        }
      }
    </script>
    <div class="container">
      <div class="row">
        <div class="two-third column" style="margin-top: 10%">
          <h3><%=title%> | Congress</h3>
          <a class="button button-primary" href="/">Home</a>
          <a class="button button-primary" href="/result/top5">Top 5</a>
          <a class="button button-primary" href="/voters">Voters</a>
          <a class="button button-primary" href="/result/analyzed">Analisa Kecurangan</a>
          <div class="row">
            <div class="four columns">
              <span style="color:red;"><%=err%></span>
              <select class="u-full-width" id="test" name="form_select" onchange="showDiv(this)">
                <option value ="0" selected >-select-</option>
                <option value ="1">Name</option>
                <option value ="2">Gender</option>
                <option value ="3">Age</option>
              </select>
              <form action="/voters" method="post">
                <div id="name-hide" style="display: none;">
                  <input type="text" name="name" placeholder="Search Name">
                </div>
                <div id="gender-hide" style="display: none;">
                  <select name="gender">
                    <option value="">-select gender-</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                  </select>
                </div>
                <div id="age-hide" style="display: none;">
                  <input type="text" name="min_age" placeholder="Min Age">
                  <input type="text" name="max_age" placeholder="Max Age">
                </div>
                <input type="submit" value="Search">
              </form>
            </div>
          </div>
          <%if(voters.length != 0){%>
            <table  class="u-full-width">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Gender</th>
                  <th>Age</th>
                  <th>Married</th>
                  <th>Children Count</th>
                </tr>
              </thead>
              <tbody>
                <%voters.forEach(voter => {%>
                  <tr>
                    <td><%=voter.id%></td>
                    <td><%=voter.first_name%></td>
                    <td><%=voter.last_name%></td>
                    <td><%=voter.gender%></td>
                    <td><%=voter.age%></td>
                    <td><%=voter.married_stat%></td>
                    <td><%=voter.children_count%></td>
                  </tr>
                  <%})%>
                </tbody>
              </table>
              <%}%>
        </div>
      </div>
    </div>
  </body>
</html>
