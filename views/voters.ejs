<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Voters</title>
  </head>
  <body>
    <form action="/voters" method="post">
      <select id=`searchBy` name="searchBy" onchange="myFunction(this)">
        <option value="default">----SELECT----</option>
        <option value="name">Name</option>
        <option value="gender">Gender</option>
        <option value="age">Age</option>
      </select>
      <br>
      
      <div id="searchName" style="display: none;">
        <input type="text" name="searchName" placeholder="Search Name">
      </div>

      <div id="searchGender" style="display: none;">
        <select name="searchGender">
          <option value="default">----SELECT----</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>

      <div id="searchAge" style="display: none;">
        <input type="text" name="minAge" placeholder="Range Min Age">
        <input type="text" name="maxAge" placeholder="Range Max Age">
      </div>

      <br>
      <div>
        <button type="submit">SEARCH</button>
      </div>
    </form>

    <br><br>
    
    <script>
      function myFunction(self) {
          if(self.value === 'name') {
            document.getElementById('searchName').style.display = "block";
            document.getElementById('searchGender').style.display = "none";
            document.getElementById('searchAge').style.display = "none";
          } else if(self.value === 'gender') {
            document.getElementById('searchName').style.display = "none";
            document.getElementById('searchGender').style.display = "block";
            document.getElementById('searchAge').style.display = "none";
          } else if(self.value === 'age') {
            document.getElementById('searchName').style.display = "none";
            document.getElementById('searchGender').style.display = "none";
            document.getElementById('searchAge').style.display = "block";
          }
      }
    </script>
    
    <table>
      <thead>
        <tr>
          <td>id</td>
          <td>first_name</td>
          <td>last_name</td>
          <td>gender</td>
          <td>age</td>
          <td>married</td>
          <td>children_count</td>
        </tr>
      </thead>
      <tbody>
        <%rows.forEach((row) => {%>
        <tr>
        <td><%=row.id%></td>
        <td><%=row.first_name%></td>
        <td><%=row.last_name%></td>
        <td><%=row.gender%></td>
        <td><%=row.age%></td>
        <td><%=row.married%></td>
        <td><%=row.children_count%></td>
        </tr>
        <%})%>
      </tbody>
    </table>
  </body>
  
  
</html>